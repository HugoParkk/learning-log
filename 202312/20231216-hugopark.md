# 2023.12.16

## 오늘 한 일
* 외출.
* 책[도메인 주도 개발 시작하기] 계속 읽음.


## 정리
* 계층 구조: 네 개의 영역 구성시 많이 사용하는 아키텍처
  * 계층 구조는 상위 계층에서 하위 계층으로의 의존만 존재함
  * 하위 계층은 상위 계층에 의존하지 않는다.
  * (표현계층은 응용계층에 의존, 응용계층은 도메인계층에 의존, 도메인계층은 인프라계층에 의존)
 
* 반대로 의존하지는 않음.
* 구현의 편리함을 위해 계층 구조를 유연하게 적용할 때도 있음.
* 예시로 응용계층은 바로 아래 계층인 도메인계층에 의존하지만, 외부 시스템과의 연동을 위해 더 아래 계층인 인프라계층에 의존하기도 함.
* 하지만 이렇게 의존하게 되면 너무 직접적으로 의존하게 되어 테스트와 기능 확장이 어려워지므로 의존 역전 원칙(DIP)를 적용한다.
* 의존 역전 원칙을 사용하게 되면 앞의 다른 영역이 인프라영역에 의존할 때 발생했던 두 문제를 해소할 수 있음.
* 사용할 저수준 모듈을 변경해도 고수준 모듈을 수정할 필요가 없이, 저수준 구현 객체만 변경하면 되기 때문에 기능 확장 및 변경에 용이해짐.
* 테스트시에도 대역 객체를 사용하여 테스트를 진행할 수 있으므로 테스트에도 용이해진 구조를 갖게 됨.

## 기억
* 계층 구조에서는 하위 계층은 상위 계층에 의존하지 않음.
* 의존 역전 원칙
  * 상위 모듈은 하위 모듈에 의존해서는 안 되고 둘 다 추상화에 의존해야 한다.
  * 추상화는 세부 사항에 의존해서는 안 되고 세부사항(구체적인 구현)은 추상화에 의존해야 한다.
